# Exception Handling & Validation in Spring Boot

## What is an Exception?

Exception means:
> An error that happens while program is running.

Examples:
- Employee not found
- Wrong ID passed
- Bad request data

---------------------------------------------------------------------

## Why We Need Exception Handling?

Without exception handling:
- Application crashes
- User gets ugly error
- No proper message

With exception handling:
- Clean error response
- Proper HTTP status
- Better user experience

---------------------------------------------------------------------

## Custom Exception Example

public class EmployeeNotFoundException extends RuntimeException {
    public EmployeeNotFoundException(String message) {
        super(message);
    }
}

---------------------------------------------------------------------

## What is @ControllerAdvice?

@ControllerAdvice means:
This class will handle errors for the whole application.
It is global error handler.

---------------------------------------------------------------------

## What is @ExceptionHandler?

@ExceptionHandler:
Catches specific exception
Returns proper response

---------------------------------------------------------------------

Example:
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(EmployeeNotFoundException.class)
    public ResponseEntity<String> handleNotFound(EmployeeNotFoundException ex) {
        return ResponseEntity.status(404).body(ex.getMessage());
    }
}

---------------------------------------------------------------------

## Flow :

Service throws Exception
↓
Controller stops
↓
Spring finds GlobalExceptionHandler
↓
Returns clean error message

---------------------------------------------------------------------

## What is Validation?

Validation means:
Checking data before saving it.

Examples:
Name should not be empty
Email should not be null

---------------------------------------------------------------------

## Validation Annotations
Annotation	          Meaning
@NotNull	        Cannot be null
@NotBlank	        Cannot be empty
@Email	          Must be valid email

---------------------------------------------------------------------

## Example in Entity: 

@NotBlank
private String name;

@NotBlank
@Email
private String email;

---------------------------------------------------------------------

## How to Activate Validation?

Add:
@Valid

in controller:
@PostMapping("/employees")
public Employee create(@Valid @RequestBody Employee employee) {
    return service.createEmployee(employee);
}

---------------------------------------------------------------------

## What Happens if Data is Wrong?

-> Spring automatically throws error
-> Returns 400 Bad Request

## Typical Error Flow
Controller → Exception → ControllerAdvice → Proper Response

---------------------------------------------------------------------

## @ControllerAdvice means:

-> One common place to handle errors for the whole application
-> @ControllerAdvice is used for global exception handling in Spring Boot.

@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(EmployeeNotFoundException.class)
    public ResponseEntity<String> handle(EmployeeNotFoundException ex) {
        return ResponseEntity.status(404).body(ex.getMessage());
    }
}

It means:

"If EmployeeNotFoundException happens anywhere, handle it here."

## Flow in simple words
Controller throws error
↓
Spring looks for @ControllerAdvice
↓
Finds matching @ExceptionHandler
↓
Returns clean error message to user

## Why we need it?

Without @ControllerAdvice:
Ugly error page
Stack trace
500 error

With @ControllerAdvice:
Clean JSON message
Proper HTTP status
Professional API

---------------------------------------------------------------------

## What is @ExceptionHandler? (Very simple)

@ExceptionHandler means:
-> This method will handle this specific error
-> @ExceptionHandler is used to handle a specific exception and return a custom response.

* In Spring Boot
@ControllerAdvice = Hospital
@ExceptionHandler = Specialist doctor

Example
@ExceptionHandler(EmployeeNotFoundException.class)
public ResponseEntity<String> handle(EmployeeNotFoundException ex) {
    return ResponseEntity.status(404).body(ex.getMessage());
}

## What does this mean?

It means:
"If EmployeeNotFoundException happens, call this method"
---------------------------------------------------------------------
## Flow in simple words
Service throws EmployeeNotFoundException
↓
Spring searches for @ExceptionHandler(EmployeeNotFoundException)
↓
Finds this method
↓
Runs this method
↓
Returns proper message
---------------------------------------------------------------------
## Best Practice (What companies do):
@ControllerAdvice
public class GlobalExceptionHandler {

    @ExceptionHandler(EmployeeNotFoundException.class)
    public ResponseEntity<String> handle(...) { }

    @ExceptionHandler(InvalidDataException.class)
    public ResponseEntity<String> handle(...) { }
}
One place. All errors handled.

---------------------------------------------------------------------

## Why This is Important?

-> Prevents bad data
-> Improves API quality
-> Makes app production-ready

---------------------------------------------------------------------

Summary 
Exception handling is used to handle runtime errors gracefully using @ControllerAdvice and @ExceptionHandler. Validation is used to check input data using annotations like @NotBlank and @Email.
